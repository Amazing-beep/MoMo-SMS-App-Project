COMPLETE MIRO ERD LAYOUT - MoMo SMS Data Processing System
==========================================================
Team: Group 7 - Amazing Mkhonta, Tito Sibo, Kevine Uwisanga
Date: January 18, 2024

EXACT LAYOUT TO REPLICATE IN MIRO:
==================================

TOP ROW (Many-to-Many Relationship):
====================================

┌─────────────────────────┐         ┌──────────────────────────────┐         ┌─────────────────────────┐
│        USERS            │◄───────►│    USER_PROVIDER_ACCTS       │◄───────►│   SERVICE_PROVIDERS     │
│     (Main Entity)       │   M:N   │     (Junction Table)         │   M:N   │                         │
├─────────────────────────┤         ├──────────────────────────────┤         ├─────────────────────────┤
│ PK: user_id             │         │ PK: account_id               │         │ PK: provider_id         │
│     phone_number        │         │ FK: user_id                  │         │     provider_name       │
│     full_name           │         │ FK: provider_id              │         │     provider_code       │
│     id_number           │         │     account_number           │         │     api_endpoint        │
│     email               │         │     account_balance          │         │     is_active           │
│     account_status      │         │     account_limit            │         │     country_code        │
│     kyc_status          │         │     is_primary               │         │                         │
│     registration_date   │         │     status                   │         │                         │
│     last_active         │         │                              │         │                         │
└─────────────────────────┘         └──────────────────────────────┘         └─────────────────────────┘
           │                                                                              │
           │ 1:M (sender)                                                                 │ 1:M
           │                                                                              │
           ▼                                                                              ▼

MIDDLE ROW (Central Transaction Processing):
==========================================

┌─────────────────────────┐         ┌──────────────────────────────┐         ┌─────────────────────────┐
│     TRANSACTIONS        │◄────────│   TRANSACTION_CATEGORIES     │         │                         │
│   (Central Entity)      │   1:M   │                              │         │                         │
├─────────────────────────┤         ├──────────────────────────────┤         │                         │
│ PK: transaction_id      │         │ PK: category_id              │         │                         │
│     transaction_reference│        │     category_name            │         │                         │
│ FK: sender_id           │         │     category_code            │         │                         │
│ FK: receiver_id         │         │     description              │         │                         │
│     receiver_phone      │         │     is_active                │         │                         │
│ FK: category_id         │         │     fee_percentage           │         │                         │
│ FK: provider_id         │         │     minimum_fee              │         │                         │
│     amount              │         │     maximum_fee              │         │                         │
│     currency            │         │                              │         │                         │
│     transaction_fee     │         │                              │         │                         │
│     net_amount          │         │                              │         │                         │
│     transaction_status  │         │                              │         │                         │
│     transaction_type    │         │                              │         │                         │
│     description         │         │                              │         │                         │
│     balance_before      │         │                              │         │                         │
│     balance_after       │         │                              │         │                         │
│     transaction_date    │         │                              │         │                         │
│     sms_received_date   │         │                              │         │                         │
│     processed_date      │         │                              │         │                         │
└─────────────────────────┘         └──────────────────────────────┘         └─────────────────────────┘
           │                                                                              ▲
           │ 1:M                                                                          │ 1:M  
           │                                                                              │
           ▼                                ┌─────────────────────────┐                  │
           │◄─────────────1:M (receiver)────│        USERS            │──────────────────┘
           │                  (nullable)    │     (Reference)         │
           │                                └─────────────────────────┘
           │
           ▼

BOTTOM ROW (Support & Audit Entities):
=====================================

┌─────────────────────────┐         ┌──────────────────────────────┐         ┌─────────────────────────┐
│     SYSTEM_LOGS         │         │    FAILED_TRANSACTIONS       │         │    USER_SESSIONS        │
│                         │         │                              │         │                         │
├─────────────────────────┤         ├──────────────────────────────┤         ├─────────────────────────┤
│ PK: log_id              │         │ PK: failed_id                │         │ PK: session_id          │
│ FK: transaction_id      │         │     sms_content              │         │ FK: user_id             │
│ FK: user_id             │         │     sender_phone             │         │     ip_address          │
│     log_level           │         │     failure_reason           │         │     user_agent          │
│     log_category        │         │     error_code               │         │     login_time          │
│     message             │         │     retry_count              │         │     last_activity       │
│     additional_data     │         │     last_retry_date          │         │     is_active           │
│     source_system       │         │     is_resolved              │         │     logout_time         │
│     ip_address          │         │                              │         │                         │
│     created_at          │         │                              │         │                         │
└─────────────────────────┘         └──────────────────────────────┘         └─────────────────────────┘
           ▲                                                                              ▲
           │ 1:M (nullable)                                                               │ 1:M
           │                                                                              │
           │                        ┌─────────────────────────┐                          │
           └────────────────────────│        USERS            │──────────────────────────┘
                                    │     (Reference)         │
                                    └─────────────────────────┘

RELATIONSHIP LEGEND:
==================
─── = One-to-Many (1:M)
↔   = Many-to-Many (M:N)
⋯⋯  = Nullable/Optional relationship
PK  = Primary Key
FK  = Foreign Key

COLOR CODING FOR MIRO:
=====================
🔵 USERS & TRANSACTIONS = Light Blue (Core Entities)
🟠 USER_PROVIDER_ACCTS = Orange (Junction Table)
🟢 SERVICE_PROVIDERS & TRANSACTION_CATEGORIES = Light Green (Reference Tables)
🟣 SYSTEM_LOGS, USER_SESSIONS, FAILED_TRANSACTIONS = Light Purple (Support/Audit)

POSITIONING INSTRUCTIONS FOR MIRO:
==================================
1. TOP ROW: Place horizontally across the top
   - USERS (left), USER_PROVIDER_ACCTS (center), SERVICE_PROVIDERS (right)

2. MIDDLE ROW: Center the main transaction processing
   - TRANSACTIONS (center-left), TRANSACTION_CATEGORIES (center-right)

3. BOTTOM ROW: Support entities horizontally across bottom
   - SYSTEM_LOGS (left), FAILED_TRANSACTIONS (center), USER_SESSIONS (right)

4. CONNECTIONS:
   - Draw M:N connections between top row entities
   - Draw 1:M lines from USERS to TRANSACTIONS (both sender and receiver)
   - Draw 1:M lines from reference tables to TRANSACTIONS
   - Draw 1:M lines from TRANSACTIONS and USERS to audit tables

EXACT MIRO STEPS:
================
1. Create 8 rectangular shapes as shown above
2. Add text boxes with entity names and attributes
3. Use connector tool to draw relationship lines
4. Add relationship labels (1:M, M:N, etc.)
5. Apply color coding as suggested
6. Add title and legend at the top

This layout will create a comprehensive, professional ERD that shows all relationships clearly!